{
   "$id": "strict/system.json",
   "$schema": "http://json-schema.org/draft-07/schema#",
   "title": "FoundryVTT system.json (strict)",
   "type": "object",
   "allOf": [
      {
         "$id": "shared/properties/strict/base-system.json",
         "$schema": "http://json-schema.org/draft-07/schema#",
         "title": "FoundryVTT shared strict base for system.json",
         "type": "object",
         "allOf": [
            {
               "$id": "shared/properties/strict/base.json",
               "$schema": "http://json-schema.org/draft-07/schema#",
               "title": "FoundryVTT shared strict base between module & system.json",
               "type": "object",
               "required": [
                  "name",
                  "title",
                  "description",
                  "author",
                  "version",
                  "minimumCoreVersion"
               ],
               "properties": {
                  "author": {
                     "default": "",
                     "examples": [
                        "typhonrt"
                     ],
                     "title": "A string value",
                     "type": "string"
                  },
                  "bugs": {
                     "default": "",
                     "examples": [
                        "https://github.com/some-user/a-module/issues"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",
                     "errorMessage": {
                        "pattern": "should be an URL string"
                     }
                  },
                  "changelog": {
                     "default": "",
                     "examples": [
                        "https://github.com/some-user/a-module/releases"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",
                     "errorMessage": {
                        "pattern": "should be an URL string"
                     }
                  },
                  "compatibleCoreVersion": {
                     "default": "",
                     "examples": [
                        "1.0.0"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
                     "errorMessage": {
                        "pattern": "should be a string that uses semantic versioning"
                     }
                  },
                  "dependencies": {
                     "items": {
                        "properties": {
                           "manifest": {
                              "default": "",
                              "examples": [
                                 "https://gitlab.com/riccisi/foundryvtt-dice-so-nice/raw/2.0.3/module/module.json"
                              ],
                              "title": "A string value",
                              "type": "string"
                           },
                           "name": {
                              "default": "",
                              "examples": [
                                 "dice-so-nice"
                              ],
                              "title": "A string value",
                              "type": "string"
                           },
                           "type": {
                              "default": "",
                              "enum": [
                                 "module",
                                 "system",
                                 "world"
                              ],
                              "examples": [
                                 "module"
                              ],
                              "title": "A string value"
                           }
                        },
                        "required": [
                           "name"
                        ],
                        "title": "An object value",
                        "type": "object"
                     },
                     "title": "An array of items",
                     "type": "array"
                  },
                  "description": {
                     "default": "",
                     "examples": [
                        "Some description"
                     ],
                     "title": "A string value",
                     "type": "string"
                  },
                  "download": {
                     "default": "",
                     "examples": [
                        "https://someaddress.com/module.zip"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(.+).zip$",
                     "errorMessage": {
                        "pattern": "should be an URL string ending in '.zip'"
                     }
                  },
                  "esmodules": {
                     "items": {
                        "default": "",
                        "examples": [
                           "index.js"
                        ],
                        "title": "A string value",
                        "type": "string",
                        "pattern": "^(.+).js$"
                     },
                     "title": "An array of items",
                     "type": "array"
                  },
                  "languages": {
                     "items": {
                        "properties": {
                           "lang": {
                              "default": "",
                              "examples": [
                                 "en"
                              ],
                              "title": "A string value",
                              "type": "string"
                           },
                           "name": {
                              "default": "",
                              "examples": [
                                 "English"
                              ],
                              "title": "A string value",
                              "type": "string"
                           },
                           "path": {
                              "examples": [
                                 "lang/en.json"
                              ],
                              "title": "A string value",
                              "type": "string",
                              "pattern": "^(.+).json$"
                           }
                        },
                        "required": [
                           "lang",
                           "name",
                           "path"
                        ],
                        "title": "An object value",
                        "type": "object"
                     },
                     "title": "An array of items",
                     "type": "array"
                  },
                  "license": {
                     "default": "",
                     "examples": [
                        "LICENSE"
                     ],
                     "title": "A string value",
                     "type": "string"
                  },
                  "minimumCoreVersion": {
                     "default": "",
                     "examples": [
                        "0.7.5"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
                     "errorMessage": {
                        "pattern": "should be a string that uses semantic versioning"
                     }
                  },
                  "name": {
                     "default": "",
                     "examples": [
                        "a-module"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^([a-z0-9]+-?)*[a-z0-9]+$",
                     "errorMessage": {
                        "pattern": "should be a string that is lowercase alpha-numeric with only separating hyphens"
                     }
                  },
                  "readme": {
                     "default": "",
                     "examples": [
                        "README.md"
                     ],
                     "title": "A string value",
                     "type": "string"
                  },
                  "scripts": {
                     "items": {
                        "default": "",
                        "examples": [
                           "ascript.js"
                        ],
                        "title": "A string value",
                        "type": "string",
                        "pattern": "^(.+).js$"
                     },
                     "title": "An array of items",
                     "type": "array"
                  },
                  "socket": {
                     "default": false,
                     "examples": [
                        true
                     ],
                     "title": "A boolean value",
                     "type": "boolean"
                  },
                  "styles": {
                     "items": {
                        "default": "",
                        "examples": [
                           "styles.css"
                        ],
                        "title": "A string value",
                        "type": "string",
                        "pattern": "^(.+).css$"
                     },
                     "title": "An array of items",
                     "type": "array"
                  },
                  "title": {
                     "default": "",
                     "examples": [
                        "A Module"
                     ],
                     "title": "A string value",
                     "type": "string"
                  },
                  "url": {
                     "default": "",
                     "examples": [
                        "https://someaddress.com/"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",
                     "errorMessage": {
                        "pattern": "should be an URL string"
                     }
                  },
                  "version": {
                     "default": "",
                     "examples": [
                        "1.0.0"
                     ],
                     "title": "A string value",
                     "type": "string",
                     "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
                     "errorMessage": {
                        "pattern": "should be a string that uses semantic versioning"
                     }
                  }
               }
            }
         ],
         "properties": {
            "gridDistance": {
               "default": 0,
               "examples": [
                  5
               ],
               "title": "An integer value",
               "type": "integer"
            },
            "gridUnits": {
               "default": "",
               "examples": [
                  "ft, m"
               ],
               "title": "A string value",
               "type": "string"
            },
            "initiative": {
               "default": "",
               "examples": [
                  "1d20"
               ],
               "title": "A string value",
               "type": "string"
            },
            "manifest": {
               "default": "",
               "examples": [
                  "https://someaddress.com/system.json"
               ],
               "title": "A string value",
               "type": "string",
               "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/system.json$",
               "errorMessage": {
                  "pattern": "should be an URL string ending in 'system.json'"
               }
            },
            "packs": {
               "title": "An array of items",
               "items": {
                  "required": [
                     "system",
                     "name",
                     "label",
                     "path",
                     "entity"
                  ],
                  "properties": {
                     "system": {
                        "title": "A string value",
                        "default": "",
                        "examples": [
                           "system-name"
                        ],
                        "type": "string",
                        "pattern": "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$",
                        "errorMessage": {
                           "pattern": "should be a string that is alpha-numeric with only underscore and hyphen separators"
                        }
                     },
                     "name": {
                        "title": "A string value",
                        "default": "",
                        "examples": [
                           "pack-name"
                        ],
                        "type": "string",
                        "pattern": "^([a-z0-9]+-?)*[a-z0-9]+$",
                        "errorMessage": {
                           "pattern": "should be a string that is lowercase alpha-numeric with only separating hyphens"
                        }
                     },
                     "label": {
                        "title": "A string value",
                        "default": "",
                        "examples": [
                           "Pack Title"
                        ],
                        "type": "string"
                     },
                     "path": {
                        "title": "A string value",
                        "default": "",
                        "examples": [
                           "./packs/pack-name.db"
                        ],
                        "type": "string",
                        "pattern": "^(.+).db$"
                     },
                     "entity": {
                        "title": "A string value",
                        "default": "",
                        "examples": [
                           "Item"
                        ],
                        "enum": [
                           "Actor",
                           "ChatMessage",
                           "Combat",
                           "Item",
                           "Folder",
                           "JournalEntry",
                           "Macro",
                           "Playlist",
                           "RollTable",
                           "Scene",
                           "User"
                        ]
                     }
                  },
                  "title": "An object value",
                  "type": "object"
               },
               "type": "array"
            },
            "primaryTokenAttribute": {
               "default": "",
               "examples": [
                  "resources.health"
               ],
               "title": "A string value or null",
               "type": [
                  "null",
                  "string"
               ]
            },
            "secondaryTokenAttribute": {
               "default": "",
               "examples": [
                  "resources.power"
               ],
               "title": "A string value or null",
               "type": [
                  "null",
                  "string"
               ]
            },
            "templateVersion": {
               "default": 0,
               "examples": [
                  2
               ],
               "title": "An integer value",
               "type": "integer"
            }
         }
      }
   ],
   "properties": {
      "authors": {
         "items": {
            "title": "An object value",
            "type": "object",
            "properties": {
               "email": {
                  "default": "",
                  "examples": [
                     "admin@foundryvtt.com"
                  ],
                  "title": "A string value",
                  "type": "string",
                  "pattern": "^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$",
                  "errorMessage": {
                     "pattern": "should be a string that is a valid email address"
                  }
               },
               "name": {
                  "default": "",
                  "examples": [
                     "Atropos"
                  ],
                  "title": "A string value",
                  "type": "string"
               },
               "url": {
                  "default": "",
                  "examples": [
                     "https://foundryvtt.com"
                  ],
                  "title": "A string value",
                  "type": "string",
                  "pattern": "^(?:(?:(?:https?|ftp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",
                  "errorMessage": {
                     "pattern": "should be an URL string"
                  }
               }
            },
            "required": [
               "name"
            ]
         },
         "title": "An array of items",
         "type": "array"
      }
   }
}